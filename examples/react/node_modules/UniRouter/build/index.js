!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t(e.router={},e.React)}(this,function(e,t){"use strict";var r="default"in t?t.default:t;function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}var i=function(){};"production"!==process.env.NODE_ENV&&(i=function(e,t,n){var o=arguments.length;n=new Array(2<o?o-2:0);for(var r=2;r<o;r++)n[r-2]=arguments[r];if(t===undefined)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.length<10||/^[s\W]*$/.test(t))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+t);if(!e){var i=0,a="Warning: "+t.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(e){}}});var a=i,l=process.env.NODE_ENV,u=function(e,t,n,o,r,i,a,u){if("production"!==l&&t===undefined)throw new Error("invariant requires an error message argument");if(!e){var s;if(t===undefined)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,r,i,a,u],f=0;(s=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}};function h(e){return"/"===e.charAt(0)}function p(e,t){for(var n=t,o=n+1,r=e.length;o<r;n+=1,o+=1)e[n]=e[o];e.pop()}function s(e){var t=1<arguments.length&&arguments[1]!==undefined?arguments[1]:"",n=e&&e.split("/")||[],o=t&&t.split("/")||[],r=e&&h(e),i=t&&h(t),a=r||i;if(e&&h(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var u=void 0;if(o.length){var s=o[o.length-1];u="."===s||".."===s||""===s}else u=!1;for(var c=0,f=o.length;0<=f;f--){var l=o[f];"."===l?p(o,f):".."===l?(p(o,f),c++):c&&(p(o,f),c--)}if(!a)for(;c--;c)o.unshift("..");!a||""===o[0]||o[0]&&h(o[0])||o.unshift("");var d=o.join("/");return u&&"/"!==d.substr(-1)&&(d+="/"),d}var c=Object.freeze({default:s}),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function d(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(e,t){return d(e,n[t])});var e=void 0===t?"undefined":f(t);if(e!==(void 0===n?"undefined":f(n)))return!1;if("object"===e){var o=t.valueOf(),r=n.valueOf();if(o!==t||r!==n)return d(o,r);var i=Object.keys(t),a=Object.keys(n);return i.length===a.length&&i.every(function(e){return d(t[e],n[e])})}return!1}var y=Object.freeze({default:d}),B=o(function(e,t){t.__esModule=!0;t.addLeadingSlash=function e(t){return"/"===t.charAt(0)?t:"/"+t},t.stripLeadingSlash=function e(t){return"/"===t.charAt(0)?t.substr(1):t};var o=t.hasBasename=function e(t,n){return new RegExp("^"+n+"(\\/|\\?|#|$)","i").test(t)};t.stripBasename=function e(t,n){return o(t,n)?t.substr(n.length):t},t.stripTrailingSlash=function e(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},t.parsePath=function e(t){var n=t||"/",o="",r="",i=n.indexOf("#");-1!==i&&(r=n.substr(i),n=n.substr(0,i));var a=n.indexOf("?");return-1!==a&&(o=n.substr(a),n=n.substr(0,a)),{pathname:n,search:"?"===o?"":o,hash:"#"===r?"":r}},t.createPath=function e(t){var n=t.pathname,o=t.search,r=t.hash,i=n||"/";return o&&"?"!==o&&(i+="?"===o.charAt(0)?o:"?"+o),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}});n(B);B.addLeadingSlash,B.stripLeadingSlash,B.hasBasename,B.stripBasename,B.stripTrailingSlash,B.parsePath,B.createPath;var v=c&&s||c,m=y&&d||y,D=o(function(e,t){t.__esModule=!0,t.locationsAreEqual=t.createLocation=undefined;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=n(v),o=n(m);function n(e){return e&&e.__esModule?e:{default:e}}t.createLocation=function e(t,n,o,r){var i=void 0;"string"==typeof t?(i=(0,B.parsePath)(t)).state=n:((i=a({},t)).pathname===undefined&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",n!==undefined&&i.state===undefined&&(i.state=n));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return o&&(i.key=o),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=(0,u.default)(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i},t.locationsAreEqual=function e(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash&&t.key===n.key&&(0,o.default)(t.state,n.state)}});n(D);D.locationsAreEqual,D.createLocation;var g=o(function(e,t){t.__esModule=!0;var u=function n(e){return e&&e.__esModule?e:{default:e}}(a);(function e(){var a=null,r=(function e(t){return(0,u.default)(null==a,"A history supports only one prompt at a time"),a=t,function(){a===t&&(a=null)}},function e(t,n,o,r){if(null!=a){var i="function"==typeof a?a(t,n):a;"string"==typeof i?"function"==typeof o?o(i,r):((0,u.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==i)}else r(!0)},[]);(function e(t){var n=!0,o=function e(){n&&t.apply(undefined,arguments)};return r.push(o),function(){n=!1,r=r.filter(function(e){return e!==o})}}),function e(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];r.forEach(function(e){return e.apply(undefined,n)})};return{setPrompt:function e(t){return(0,u.default)(null==a,"A history supports only one prompt at a time"),a=t,function(){a===t&&(a=null)}},confirmTransitionTo:function e(t,n,o,r){if(null!=a){var i="function"==typeof a?a(t,n):a;"string"==typeof i?"function"==typeof o?o(i,r):((0,u.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==i)}else r(!0)},appendListener:function e(t){var n=!0,o=function e(){n&&t.apply(undefined,arguments)};return r.push(o),function(){n=!1,r=r.filter(function(e){return e!==o})}},notifyListeners:function e(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];r.forEach(function(e){return e.apply(undefined,n)})}}});t.default=function e(){var a=null,r=(function e(t){return(0,u.default)(null==a,"A history supports only one prompt at a time"),a=t,function(){a===t&&(a=null)}},function e(t,n,o,r){if(null!=a){var i="function"==typeof a?a(t,n):a;"string"==typeof i?"function"==typeof o?o(i,r):((0,u.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==i)}else r(!0)},[]);(function e(t){var n=!0,o=function e(){n&&t.apply(undefined,arguments)};return r.push(o),function(){n=!1,r=r.filter(function(e){return e!==o})}}),function e(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];r.forEach(function(e){return e.apply(undefined,n)})};return{setPrompt:function e(t){return(0,u.default)(null==a,"A history supports only one prompt at a time"),a=t,function(){a===t&&(a=null)}},confirmTransitionTo:function e(t,n,o,r){if(null!=a){var i="function"==typeof a?a(t,n):a;"string"==typeof i?"function"==typeof o?o(i,r):((0,u.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==i)}else r(!0)},appendListener:function e(t){var n=!0,o=function e(){n&&t.apply(undefined,arguments)};return r.push(o),function(){n=!1,r=r.filter(function(e){return e!==o})}},notifyListeners:function e(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];r.forEach(function(e){return e.apply(undefined,n)})}}}});n(g);var q=o(function(e,t){t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),t.addEventListener=function e(t,n,o){return t.addEventListener?t.addEventListener(n,o,!1):t.attachEvent("on"+n,o)},t.removeEventListener=function e(t,n,o){return t.removeEventListener?t.removeEventListener(n,o,!1):t.detachEvent("on"+n,o)},t.getConfirmation=function e(t,n){return n(window.confirm(t))},t.supportsHistory=function e(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},t.supportsPopStateOnHashChange=function e(){return-1===window.navigator.userAgent.indexOf("Trident")},t.supportsGoWithoutReloadUsingHash=function e(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.isExtraneousPopstateEvent=function e(t){return t.state===undefined&&-1===navigator.userAgent.indexOf("CriOS")}});n(q);q.canUseDOM,q.addEventListener,q.removeEventListener,q.getConfirmation,q.supportsHistory,q.supportsPopStateOnHashChange,q.supportsGoWithoutReloadUsingHash,q.isExtraneousPopstateEvent;var w,b,O=n(o(function(e,t){t.__esModule=!0;var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},T=n(a),M=n(u),H=n(g);function n(e){return e&&e.__esModule?e:{default:e}}var C="popstate",U="hashchange",R=function e(){try{return window.history.state||{}}catch(e){return{}}};(function e(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{};(0,M.default)(q.canUseDOM,"Browser history needs a DOM");var u=window.history,s=(0,q.supportsHistory)(),n=!(0,q.supportsPopStateOnHashChange)(),o=t.forceRefresh,c=o!==undefined&&o,r=t.getUserConfirmation,f=r===undefined?q.getConfirmation:r,i=t.keyLength,a=i===undefined?6:i,l=t.basename?(0,B.stripTrailingSlash)((0,B.addLeadingSlash)(t.basename)):"",d=function e(t){var n=t||{},o=n.key,r=n.state,i=window.location,a=i.pathname+i.search+i.hash;return(0,T.default)(!l||(0,B.hasBasename)(a,l),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+l+'".'),l&&(a=(0,B.stripBasename)(a,l)),(0,D.createLocation)(a,r,o)},h=function e(){return Math.random().toString(36).substr(2,a)},p=(0,H.default)(),y=function e(t){A(x,t),x.length=u.length,p.notifyListeners(x.location,x.action)},v=function e(t){(0,q.isExtraneousPopstateEvent)(t)||w(d(t.state))},m=function e(){w(d(R()))},g=!1,w=function e(t){if(g)g=!1,y();else{p.confirmTransitionTo(t,"POP",f,function(e){e?y({action:"POP",location:t}):b(t)})}},b=function e(t){var n=x.location,o=P.indexOf(n.key);-1===o&&(o=0);var r=P.indexOf(t.key);-1===r&&(r=0);var i=o-r;i&&(g=!0,E(i))},O=d(R()),P=[O.key],k=function e(t){return l+(0,B.createPath)(t)},E=(function e(t,n){(0,T.default)(!("object"===(void 0===t?"undefined":j(t))&&t.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,D.createLocation)(t,n,h(),x.location);p.confirmTransitionTo(a,"PUSH",f,function(e){if(e){var t=k(a),n=a.key,o=a.state;if(s)if(u.pushState({key:n,state:o},null,t),c)window.location.href=t;else{var r=P.indexOf(x.location.key),i=P.slice(0,-1===r?0:r+1);i.push(a.key),P=i,y({action:"PUSH",location:a})}else(0,T.default)(o===undefined,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}})},function e(t,n){(0,T.default)(!("object"===(void 0===t?"undefined":j(t))&&t.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i="REPLACE",a=(0,D.createLocation)(t,n,h(),x.location);p.confirmTransitionTo(a,i,f,function(e){if(e){var t=k(a),n=a.key,o=a.state;if(s)if(u.replaceState({key:n,state:o},null,t),c)window.location.replace(t);else{var r=P.indexOf(x.location.key);-1!==r&&(P[r]=a.key),y({action:i,location:a})}else(0,T.default)(o===undefined,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}})},function e(t){u.go(t)}),_=(function e(){return E(-1)},function e(){return E(1)},0),L=function e(t){1===(_+=t)?((0,q.addEventListener)(window,C,v),n&&(0,q.addEventListener)(window,U,m)):0===_&&((0,q.removeEventListener)(window,C,v),n&&(0,q.removeEventListener)(window,U,m))},S=!1,x=(function e(){var t=0<arguments.length&&arguments[0]!==undefined&&arguments[0],n=p.setPrompt(t);return S||(L(1),S=!0),function(){return S&&(S=!1,L(-1)),n()}},function e(t){var n=p.appendListener(t);return L(1),function(){L(-1),n()}},{length:u.length,action:"POP",location:O,createHref:k,push:function e(t,n){(0,T.default)(!("object"===(void 0===t?"undefined":j(t))&&t.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,D.createLocation)(t,n,h(),x.location);p.confirmTransitionTo(a,"PUSH",f,function(e){if(e){var t=k(a),n=a.key,o=a.state;if(s)if(u.pushState({key:n,state:o},null,t),c)window.location.href=t;else{var r=P.indexOf(x.location.key),i=P.slice(0,-1===r?0:r+1);i.push(a.key),P=i,y({action:"PUSH",location:a})}else(0,T.default)(o===undefined,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}})},replace:function e(t,n){(0,T.default)(!("object"===(void 0===t?"undefined":j(t))&&t.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i="REPLACE",a=(0,D.createLocation)(t,n,h(),x.location);p.confirmTransitionTo(a,i,f,function(e){if(e){var t=k(a),n=a.key,o=a.state;if(s)if(u.replaceState({key:n,state:o},null,t),c)window.location.replace(t);else{var r=P.indexOf(x.location.key);-1!==r&&(P[r]=a.key),y({action:i,location:a})}else(0,T.default)(o===undefined,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}})},go:E,goBack:function e(){return E(-1)},goForward:function e(){return E(1)},block:function e(){var t=0<arguments.length&&arguments[0]!==undefined&&arguments[0],n=p.setPrompt(t);return S||(L(1),S=!0),function(){return S&&(S=!1,L(-1)),n()}},listen:function e(t){var n=p.appendListener(t);return L(1),function(){L(-1),n()}}});return x});t.default=function e(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{};(0,M.default)(q.canUseDOM,"Browser history needs a DOM");var u=window.history,s=(0,q.supportsHistory)(),n=!(0,q.supportsPopStateOnHashChange)(),o=t.forceRefresh,c=o!==undefined&&o,r=t.getUserConfirmation,f=r===undefined?q.getConfirmation:r,i=t.keyLength,a=i===undefined?6:i,l=t.basename?(0,B.stripTrailingSlash)((0,B.addLeadingSlash)(t.basename)):"",d=function e(t){var n=t||{},o=n.key,r=n.state,i=window.location,a=i.pathname+i.search+i.hash;return(0,T.default)(!l||(0,B.hasBasename)(a,l),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+l+'".'),l&&(a=(0,B.stripBasename)(a,l)),(0,D.createLocation)(a,r,o)},h=function e(){return Math.random().toString(36).substr(2,a)},p=(0,H.default)(),y=function e(t){A(x,t),x.length=u.length,p.notifyListeners(x.location,x.action)},v=function e(t){(0,q.isExtraneousPopstateEvent)(t)||w(d(t.state))},m=function e(){w(d(R()))},g=!1,w=function e(t){g?(g=!1,y()):p.confirmTransitionTo(t,"POP",f,function(e){e?y({action:"POP",location:t}):b(t)})},b=function e(t){var n=x.location,o=P.indexOf(n.key);-1===o&&(o=0);var r=P.indexOf(t.key);-1===r&&(r=0);var i=o-r;i&&(g=!0,E(i))},O=d(R()),P=[O.key],k=function e(t){return l+(0,B.createPath)(t)},E=(function e(t,n){(0,T.default)(!("object"===(void 0===t?"undefined":j(t))&&t.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,D.createLocation)(t,n,h(),x.location);p.confirmTransitionTo(a,"PUSH",f,function(e){if(e){var t=k(a),n=a.key,o=a.state;if(s)if(u.pushState({key:n,state:o},null,t),c)window.location.href=t;else{var r=P.indexOf(x.location.key),i=P.slice(0,-1===r?0:r+1);i.push(a.key),P=i,y({action:"PUSH",location:a})}else(0,T.default)(o===undefined,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}})},function e(t,n){(0,T.default)(!("object"===(void 0===t?"undefined":j(t))&&t.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i="REPLACE",a=(0,D.createLocation)(t,n,h(),x.location);p.confirmTransitionTo(a,i,f,function(e){if(e){var t=k(a),n=a.key,o=a.state;if(s)if(u.replaceState({key:n,state:o},null,t),c)window.location.replace(t);else{var r=P.indexOf(x.location.key);-1!==r&&(P[r]=a.key),y({action:i,location:a})}else(0,T.default)(o===undefined,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}})},function e(t){u.go(t)}),_=(function e(){return E(-1)},function e(){return E(1)},0),L=function e(t){1===(_+=t)?((0,q.addEventListener)(window,C,v),n&&(0,q.addEventListener)(window,U,m)):0===_&&((0,q.removeEventListener)(window,C,v),n&&(0,q.removeEventListener)(window,U,m))},S=!1,x=(function e(){var t=0<arguments.length&&arguments[0]!==undefined&&arguments[0],n=p.setPrompt(t);return S||(L(1),S=!0),function(){return S&&(S=!1,L(-1)),n()}},function e(t){var n=p.appendListener(t);return L(1),function(){L(-1),n()}},{length:u.length,action:"POP",location:O,createHref:k,push:function e(t,n){(0,T.default)(!("object"===(void 0===t?"undefined":j(t))&&t.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,D.createLocation)(t,n,h(),x.location);p.confirmTransitionTo(a,"PUSH",f,function(e){if(e){var t=k(a),n=a.key,o=a.state;if(s)if(u.pushState({key:n,state:o},null,t),c)window.location.href=t;else{var r=P.indexOf(x.location.key),i=P.slice(0,-1===r?0:r+1);i.push(a.key),P=i,y({action:"PUSH",location:a})}else(0,T.default)(o===undefined,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}})},replace:function e(t,n){(0,T.default)(!("object"===(void 0===t?"undefined":j(t))&&t.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i="REPLACE",a=(0,D.createLocation)(t,n,h(),x.location);p.confirmTransitionTo(a,i,f,function(e){if(e){var t=k(a),n=a.key,o=a.state;if(s)if(u.replaceState({key:n,state:o},null,t),c)window.location.replace(t);else{var r=P.indexOf(x.location.key);-1!==r&&(P[r]=a.key),y({action:i,location:a})}else(0,T.default)(o===undefined,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}})},go:E,goBack:function e(){return E(-1)},goForward:function e(){return E(1)},block:function e(){var t=0<arguments.length&&arguments[0]!==undefined&&arguments[0],n=p.setPrompt(t);return S||(L(1),S=!0),function(){return S&&(S=!1,L(-1)),n()}},listen:function e(t){var n=p.appendListener(t);return L(1),function(){L(-1),n()}}});return x}})),P=(w=O(),(b=function e(t){t.query=t.search.slice(1).split("&").reduce(function(e,t){return e[t.split("=")[0]]=t.split("=")[1],e},{})})(w.location),w.init=function(n){w.listen(function(e,t){b(e),n(e)})},w),k=function e(t){var n=t.error;return console.error(n),r.createElement("h1",null,n.code,n.message)},E=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},S=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},x=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},j=function e(o,t){return function(e){function n(e){E(this,n);var t=x(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={},t}return S(n,e),_(n,[{key:"shouldComponentUpdate",value:function e(t,n){return console.log("prototype"),!!(t!==this.props&&n!==this.state)}},{key:"render",value:function e(){var t=L({},this.props,o.props,{location:P.location,query:P.location.query});return o.isReactComponent?r.createElement(o,t):r.cloneElement(o,t)}}]),n}(r.Component)},A=function(e){function i(){var e;E(this,i);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=x(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(n)));return console.log(n),r.code=n[1],Error.captureStackTrace(r,i),r}return S(i,e),i}(Error),T=function(){function e(){E(this,e),this._prev=null,this._next={},this._param=null,this._value=null}return _(e,[{key:"next",set:function e(t){this._next=t},get:function e(){return this._next}},{key:"param",set:function e(t){this._param=t},get:function e(){return this._param}},{key:"prev",set:function e(t){this._prev=t},get:function e(){return this._prev}},{key:"value",set:function e(t){this._value=t},get:function e(){return this._value}}]),e}(),M=new(function(){function e(){E(this,e),this.root=new T}return _(e,[{key:"add",value:function e(t){for(var n=t.path.split(""),o=this.root;n.length;){var r=n.shift();if(":"===r){for(var i="";"/"!==n[0]&&n.length;)i+=n.shift();if(o.next[r]=new T(r),(o=(o.prev=o).next[r]).param=i,!(r=n.shift()))break}o.next[r]||(o.next[r]=new T(r),o.prev=o),o=o.next[r]}o.value=t.val}},{key:"find",value:function e(t){for(var n=t.split(""),o={},r=this.root;n.length&&r;)if(r.next[":"]){for(var i="";"/"!==n[0]&&n.length;)i+=n.shift();o[r.next[":"].param]=i,r=r.next[":"]}else if(r.next["*"])for(r=r.next["*"];"/"!==n[0];)n.shift();else r=r.next[n.shift()];if(!r||!r.value)throw new A("Route not found!");return L({},r,{params:o})}}]),e}()),H=(function e(t){for(var n=arguments.length,a=Array(1<n?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];var r=function(e){function i(){var e;E(this,i);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=x(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(n)));return a.forEach(function(e){u(r,new e)}),r}return S(i,t),i}(),u=function e(t,n){Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n)).forEach(function(e){e.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)||Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})};return a.forEach(function(e){u(r.prototype,e.prototype),u(r,e)}),r},function(e){function n(e){E(this,n);var t=x(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e.config));return t.state={component:null,location:P.location,loaded:!1,middleware:function e(){return Promise.resolve()}},t.middleware=t.middleware.bind(t),t.init=t.init.bind(t),t}return S(n,e),_(n,[{key:"getRoute",value:function e(){var n=this;return new Promise(function(e,t){e(n.route(P.location.pathname))})}},{key:"shouldComponentUpdate",value:function e(t,n){var o=n!==this.state;return console.log(n.location.pathname,this.state.location.pathname),!!o&&(console.log("should update?",o),!0)}},{key:"middleware",value:function e(){var n=this;return console.log("middleware: ",this.state.middleware),this.state.middleware(P,P.location,function(){}).then(function(){n.setState({loaded:!0})}).catch(function(e){var t=j(r.createElement(k,{error:e}));n.setState({component:t,loaded:!0})})}},{key:"init",value:function e(){var n=this;return this.getRoute().then(function(e){console.log("theroute",e),e instanceof Error?(console.log("instanceOf"),n.setState({component:j(r.createElement(k,{error:e})),middleware:function e(){return Promise.resolve()}})):n.setState({component:j(e.component),middleware:e.middleware}),P.init(function(t){console.log("will change?"),n.getRoute().then(function(e){n.middleware().then(function(){e instanceof Error?n.setState({location:t,component:j(r.createElement(k,{error:e})),middleware:function e(){return Promise.resolve()}}):n.setState({location:t,component:j(e.component),middleware:e.middleware})})})})})}},{key:"componentDidMount",value:function e(){console.log("running more than once?"),this.init().then(this.middleware)}},{key:"render",value:function e(){var t={location:P.location};return this.state.loaded?r.createElement(this.state.component,t):null}}]),n}(function e(t){for(var n=arguments.length,a=Array(1<n?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];var r=function(e){function i(){var e;E(this,i);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=x(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(n)));return a.forEach(function(e){u(r,new e)}),r}return S(i,t),i}(),u=function e(t,n){Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n)).forEach(function(e){e.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)||Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})};return a.forEach(function(e){u(r.prototype,e.prototype),u(r,e)}),r}(function(){function o(e,t){for(var n in E(this,o),this.routes=e,this.node=t,e)M.add({path:n,val:e[n]})}return _(o,[{key:"match",value:function e(t){return M.find(t)}},{key:"route",value:function e(t){try{var n=this.match(t);return console.log("the result",n),L({},n._value,{params:n.params},{match:!!n})}catch(e){return console.log("yeah?",e),new(function(e){function i(){var e;E(this,i);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=x(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(n)));return r.params={message:r.message,code:r.code},r.middleware=function(){return Promise.resolve()},r}return S(i,A),i}())(e.message,e.code)}}}]),o}(),t.Component))),C=function(e){function t(){return E(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,H),t}();(function(){function e(){E(this,e)}_(e,[{key:"go",value:function e(){}}])})(),function e(t){var o=function e(n,o,r){return new Promise(function(e,t){try{return console.log("run static middleware"),console.log(n,o,r),e(r())}catch(e){return t(e)}})};(function e(i){return function(n,o,r){return console.log("middlewareWrapper"),new Promise(function(e,t){try{return i(n,o,r),e(r())}catch(e){return t(e)}})}});return t.reduce(function(e,t){var n=t;return t.middleware&&(t.middleware=function e(i){return function(n,o,r){return console.log("middlewareWrapper"),new Promise(function(e,t){try{return i(n,o,r),e(r())}catch(e){return t(e)}})}}(t.middleware)),e[t.path]=L({middleware:o},n),e},{})};e.ReactRouter=C,e.history=P,e.createConfig=function e(t){var o=function e(n,o,r){return new Promise(function(e,t){try{return console.log("run static middleware"),console.log(n,o,r),e(r())}catch(e){return t(e)}})};(function e(i){return function(n,o,r){return console.log("middlewareWrapper"),new Promise(function(e,t){try{return i(n,o,r),e(r())}catch(e){return t(e)}})}});return t.reduce(function(e,t){var n=t;return t.middleware&&(t.middleware=function e(i){return function(n,o,r){return console.log("middlewareWrapper"),new Promise(function(e,t){try{return i(n,o,r),e(r())}catch(e){return t(e)}})}}(t.middleware)),e[t.path]=L({middleware:o},n),e},{})},e.RouterError=A,Object.defineProperty(e,"__esModule",{value:!0})});
