!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e(t.react={},t.React)}(this,function(t,e){"use strict";var r="default"in e?e.default:e;function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function o(t,e){return t(e={exports:{}},e.exports),e.exports}var i=function(){};"production"!==process.env.NODE_ENV&&(i=function(t,e,n){var o=arguments.length;n=new Array(2<o?o-2:0);for(var r=2;r<o;r++)n[r-2]=arguments[r];if(e===undefined)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(e.length<10||/^[s\W]*$/.test(e))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+e);if(!t){var i=0,a="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(t){}}});var a=i,l=process.env.NODE_ENV,u=function(t,e,n,o,r,i,a,u){if("production"!==l&&e===undefined)throw new Error("invariant requires an error message argument");if(!t){var s;if(e===undefined)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,r,i,a,u],f=0;(s=new Error(e.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}};function h(t){return"/"===t.charAt(0)}function p(t,e){for(var n=e,o=n+1,r=t.length;o<r;n+=1,o+=1)t[n]=t[o];t.pop()}function s(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:"",n=t&&t.split("/")||[],o=e&&e.split("/")||[],r=t&&h(t),i=e&&h(e),a=r||i;if(t&&h(t)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var u=void 0;if(o.length){var s=o[o.length-1];u="."===s||".."===s||""===s}else u=!1;for(var c=0,f=o.length;0<=f;f--){var l=o[f];"."===l?p(o,f):".."===l?(p(o,f),c++):c&&(p(o,f),c--)}if(!a)for(;c--;c)o.unshift("..");!a||""===o[0]||o[0]&&h(o[0])||o.unshift("");var d=o.join("/");return u&&"/"!==d.substr(-1)&&(d+="/"),d}var c=Object.freeze({default:s}),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function d(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every(function(t,e){return d(t,n[e])});var t=void 0===e?"undefined":f(e);if(t!==(void 0===n?"undefined":f(n)))return!1;if("object"===t){var o=e.valueOf(),r=n.valueOf();if(o!==e||r!==n)return d(o,r);var i=Object.keys(e),a=Object.keys(n);return i.length===a.length&&i.every(function(t){return d(e[t],n[t])})}return!1}var y=Object.freeze({default:d}),B=o(function(t,e){e.__esModule=!0;e.addLeadingSlash=function t(e){return"/"===e.charAt(0)?e:"/"+e},e.stripLeadingSlash=function t(e){return"/"===e.charAt(0)?e.substr(1):e};var o=e.hasBasename=function t(e,n){return new RegExp("^"+n+"(\\/|\\?|#|$)","i").test(e)};e.stripBasename=function t(e,n){return o(e,n)?e.substr(n.length):e},e.stripTrailingSlash=function t(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},e.parsePath=function t(e){var n=e||"/",o="",r="",i=n.indexOf("#");-1!==i&&(r=n.substr(i),n=n.substr(0,i));var a=n.indexOf("?");return-1!==a&&(o=n.substr(a),n=n.substr(0,a)),{pathname:n,search:"?"===o?"":o,hash:"#"===r?"":r}},e.createPath=function t(e){var n=e.pathname,o=e.search,r=e.hash,i=n||"/";return o&&"?"!==o&&(i+="?"===o.charAt(0)?o:"?"+o),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}});n(B);B.addLeadingSlash,B.stripLeadingSlash,B.hasBasename,B.stripBasename,B.stripTrailingSlash,B.parsePath,B.createPath;var v=c&&s||c,m=y&&d||y,D=o(function(t,e){e.__esModule=!0,e.locationsAreEqual=e.createLocation=undefined;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},u=n(v),o=n(m);function n(t){return t&&t.__esModule?t:{default:t}}e.createLocation=function t(e,n,o,r){var i=void 0;"string"==typeof e?(i=(0,B.parsePath)(e)).state=n:((i=a({},e)).pathname===undefined&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",n!==undefined&&i.state===undefined&&(i.state=n));try{i.pathname=decodeURI(i.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return o&&(i.key=o),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=(0,u.default)(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i},e.locationsAreEqual=function t(e,n){return e.pathname===n.pathname&&e.search===n.search&&e.hash===n.hash&&e.key===n.key&&(0,o.default)(e.state,n.state)}});n(D);D.locationsAreEqual,D.createLocation;var g=o(function(t,e){e.__esModule=!0;var u=function n(t){return t&&t.__esModule?t:{default:t}}(a);(function t(){var a=null,r=(function t(e){return(0,u.default)(null==a,"A history supports only one prompt at a time"),a=e,function(){a===e&&(a=null)}},function t(e,n,o,r){if(null!=a){var i="function"==typeof a?a(e,n):a;"string"==typeof i?"function"==typeof o?o(i,r):((0,u.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==i)}else r(!0)},[]);(function t(e){var n=!0,o=function t(){n&&e.apply(undefined,arguments)};return r.push(o),function(){n=!1,r=r.filter(function(t){return t!==o})}}),function t(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];r.forEach(function(t){return t.apply(undefined,n)})};return{setPrompt:function t(e){return(0,u.default)(null==a,"A history supports only one prompt at a time"),a=e,function(){a===e&&(a=null)}},confirmTransitionTo:function t(e,n,o,r){if(null!=a){var i="function"==typeof a?a(e,n):a;"string"==typeof i?"function"==typeof o?o(i,r):((0,u.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==i)}else r(!0)},appendListener:function t(e){var n=!0,o=function t(){n&&e.apply(undefined,arguments)};return r.push(o),function(){n=!1,r=r.filter(function(t){return t!==o})}},notifyListeners:function t(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];r.forEach(function(t){return t.apply(undefined,n)})}}});e.default=function t(){var a=null,r=(function t(e){return(0,u.default)(null==a,"A history supports only one prompt at a time"),a=e,function(){a===e&&(a=null)}},function t(e,n,o,r){if(null!=a){var i="function"==typeof a?a(e,n):a;"string"==typeof i?"function"==typeof o?o(i,r):((0,u.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==i)}else r(!0)},[]);(function t(e){var n=!0,o=function t(){n&&e.apply(undefined,arguments)};return r.push(o),function(){n=!1,r=r.filter(function(t){return t!==o})}}),function t(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];r.forEach(function(t){return t.apply(undefined,n)})};return{setPrompt:function t(e){return(0,u.default)(null==a,"A history supports only one prompt at a time"),a=e,function(){a===e&&(a=null)}},confirmTransitionTo:function t(e,n,o,r){if(null!=a){var i="function"==typeof a?a(e,n):a;"string"==typeof i?"function"==typeof o?o(i,r):((0,u.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==i)}else r(!0)},appendListener:function t(e){var n=!0,o=function t(){n&&e.apply(undefined,arguments)};return r.push(o),function(){n=!1,r=r.filter(function(t){return t!==o})}},notifyListeners:function t(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];r.forEach(function(t){return t.apply(undefined,n)})}}}});n(g);var q=o(function(t,e){e.__esModule=!0;e.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),e.addEventListener=function t(e,n,o){return e.addEventListener?e.addEventListener(n,o,!1):e.attachEvent("on"+n,o)},e.removeEventListener=function t(e,n,o){return e.removeEventListener?e.removeEventListener(n,o,!1):e.detachEvent("on"+n,o)},e.getConfirmation=function t(e,n){return n(window.confirm(e))},e.supportsHistory=function t(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},e.supportsPopStateOnHashChange=function t(){return-1===window.navigator.userAgent.indexOf("Trident")},e.supportsGoWithoutReloadUsingHash=function t(){return-1===window.navigator.userAgent.indexOf("Firefox")},e.isExtraneousPopstateEvent=function t(e){return e.state===undefined&&-1===navigator.userAgent.indexOf("CriOS")}});n(q);q.canUseDOM,q.addEventListener,q.removeEventListener,q.getConfirmation,q.supportsHistory,q.supportsPopStateOnHashChange,q.supportsGoWithoutReloadUsingHash,q.isExtraneousPopstateEvent;var w,b,O=n(o(function(t,e){e.__esModule=!0;var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},T=n(a),M=n(u),H=n(g);function n(t){return t&&t.__esModule?t:{default:t}}var C="popstate",U="hashchange",R=function t(){try{return window.history.state||{}}catch(t){return{}}};(function t(){var e=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{};(0,M.default)(q.canUseDOM,"Browser history needs a DOM");var u=window.history,s=(0,q.supportsHistory)(),n=!(0,q.supportsPopStateOnHashChange)(),o=e.forceRefresh,c=o!==undefined&&o,r=e.getUserConfirmation,f=r===undefined?q.getConfirmation:r,i=e.keyLength,a=i===undefined?6:i,l=e.basename?(0,B.stripTrailingSlash)((0,B.addLeadingSlash)(e.basename)):"",d=function t(e){var n=e||{},o=n.key,r=n.state,i=window.location,a=i.pathname+i.search+i.hash;return(0,T.default)(!l||(0,B.hasBasename)(a,l),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+l+'".'),l&&(a=(0,B.stripBasename)(a,l)),(0,D.createLocation)(a,r,o)},h=function t(){return Math.random().toString(36).substr(2,a)},p=(0,H.default)(),y=function t(e){A(x,e),x.length=u.length,p.notifyListeners(x.location,x.action)},v=function t(e){(0,q.isExtraneousPopstateEvent)(e)||w(d(e.state))},m=function t(){w(d(R()))},g=!1,w=function t(e){if(g)g=!1,y();else{p.confirmTransitionTo(e,"POP",f,function(t){t?y({action:"POP",location:e}):b(e)})}},b=function t(e){var n=x.location,o=k.indexOf(n.key);-1===o&&(o=0);var r=k.indexOf(e.key);-1===r&&(r=0);var i=o-r;i&&(g=!0,P(i))},O=d(R()),k=[O.key],E=function t(e){return l+(0,B.createPath)(e)},P=(function t(e,n){(0,T.default)(!("object"===(void 0===e?"undefined":j(e))&&e.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,D.createLocation)(e,n,h(),x.location);p.confirmTransitionTo(a,"PUSH",f,function(t){if(t){var e=E(a),n=a.key,o=a.state;if(s)if(u.pushState({key:n,state:o},null,e),c)window.location.href=e;else{var r=k.indexOf(x.location.key),i=k.slice(0,-1===r?0:r+1);i.push(a.key),k=i,y({action:"PUSH",location:a})}else(0,T.default)(o===undefined,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=e}})},function t(e,n){(0,T.default)(!("object"===(void 0===e?"undefined":j(e))&&e.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i="REPLACE",a=(0,D.createLocation)(e,n,h(),x.location);p.confirmTransitionTo(a,i,f,function(t){if(t){var e=E(a),n=a.key,o=a.state;if(s)if(u.replaceState({key:n,state:o},null,e),c)window.location.replace(e);else{var r=k.indexOf(x.location.key);-1!==r&&(k[r]=a.key),y({action:i,location:a})}else(0,T.default)(o===undefined,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(e)}})},function t(e){u.go(e)}),_=(function t(){return P(-1)},function t(){return P(1)},0),L=function t(e){1===(_+=e)?((0,q.addEventListener)(window,C,v),n&&(0,q.addEventListener)(window,U,m)):0===_&&((0,q.removeEventListener)(window,C,v),n&&(0,q.removeEventListener)(window,U,m))},S=!1,x=(function t(){var e=0<arguments.length&&arguments[0]!==undefined&&arguments[0],n=p.setPrompt(e);return S||(L(1),S=!0),function(){return S&&(S=!1,L(-1)),n()}},function t(e){var n=p.appendListener(e);return L(1),function(){L(-1),n()}},{length:u.length,action:"POP",location:O,createHref:E,push:function t(e,n){(0,T.default)(!("object"===(void 0===e?"undefined":j(e))&&e.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,D.createLocation)(e,n,h(),x.location);p.confirmTransitionTo(a,"PUSH",f,function(t){if(t){var e=E(a),n=a.key,o=a.state;if(s)if(u.pushState({key:n,state:o},null,e),c)window.location.href=e;else{var r=k.indexOf(x.location.key),i=k.slice(0,-1===r?0:r+1);i.push(a.key),k=i,y({action:"PUSH",location:a})}else(0,T.default)(o===undefined,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=e}})},replace:function t(e,n){(0,T.default)(!("object"===(void 0===e?"undefined":j(e))&&e.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i="REPLACE",a=(0,D.createLocation)(e,n,h(),x.location);p.confirmTransitionTo(a,i,f,function(t){if(t){var e=E(a),n=a.key,o=a.state;if(s)if(u.replaceState({key:n,state:o},null,e),c)window.location.replace(e);else{var r=k.indexOf(x.location.key);-1!==r&&(k[r]=a.key),y({action:i,location:a})}else(0,T.default)(o===undefined,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(e)}})},go:P,goBack:function t(){return P(-1)},goForward:function t(){return P(1)},block:function t(){var e=0<arguments.length&&arguments[0]!==undefined&&arguments[0],n=p.setPrompt(e);return S||(L(1),S=!0),function(){return S&&(S=!1,L(-1)),n()}},listen:function t(e){var n=p.appendListener(e);return L(1),function(){L(-1),n()}}});return x});e.default=function t(){var e=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{};(0,M.default)(q.canUseDOM,"Browser history needs a DOM");var u=window.history,s=(0,q.supportsHistory)(),n=!(0,q.supportsPopStateOnHashChange)(),o=e.forceRefresh,c=o!==undefined&&o,r=e.getUserConfirmation,f=r===undefined?q.getConfirmation:r,i=e.keyLength,a=i===undefined?6:i,l=e.basename?(0,B.stripTrailingSlash)((0,B.addLeadingSlash)(e.basename)):"",d=function t(e){var n=e||{},o=n.key,r=n.state,i=window.location,a=i.pathname+i.search+i.hash;return(0,T.default)(!l||(0,B.hasBasename)(a,l),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+l+'".'),l&&(a=(0,B.stripBasename)(a,l)),(0,D.createLocation)(a,r,o)},h=function t(){return Math.random().toString(36).substr(2,a)},p=(0,H.default)(),y=function t(e){A(x,e),x.length=u.length,p.notifyListeners(x.location,x.action)},v=function t(e){(0,q.isExtraneousPopstateEvent)(e)||w(d(e.state))},m=function t(){w(d(R()))},g=!1,w=function t(e){g?(g=!1,y()):p.confirmTransitionTo(e,"POP",f,function(t){t?y({action:"POP",location:e}):b(e)})},b=function t(e){var n=x.location,o=k.indexOf(n.key);-1===o&&(o=0);var r=k.indexOf(e.key);-1===r&&(r=0);var i=o-r;i&&(g=!0,P(i))},O=d(R()),k=[O.key],E=function t(e){return l+(0,B.createPath)(e)},P=(function t(e,n){(0,T.default)(!("object"===(void 0===e?"undefined":j(e))&&e.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,D.createLocation)(e,n,h(),x.location);p.confirmTransitionTo(a,"PUSH",f,function(t){if(t){var e=E(a),n=a.key,o=a.state;if(s)if(u.pushState({key:n,state:o},null,e),c)window.location.href=e;else{var r=k.indexOf(x.location.key),i=k.slice(0,-1===r?0:r+1);i.push(a.key),k=i,y({action:"PUSH",location:a})}else(0,T.default)(o===undefined,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=e}})},function t(e,n){(0,T.default)(!("object"===(void 0===e?"undefined":j(e))&&e.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i="REPLACE",a=(0,D.createLocation)(e,n,h(),x.location);p.confirmTransitionTo(a,i,f,function(t){if(t){var e=E(a),n=a.key,o=a.state;if(s)if(u.replaceState({key:n,state:o},null,e),c)window.location.replace(e);else{var r=k.indexOf(x.location.key);-1!==r&&(k[r]=a.key),y({action:i,location:a})}else(0,T.default)(o===undefined,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(e)}})},function t(e){u.go(e)}),_=(function t(){return P(-1)},function t(){return P(1)},0),L=function t(e){1===(_+=e)?((0,q.addEventListener)(window,C,v),n&&(0,q.addEventListener)(window,U,m)):0===_&&((0,q.removeEventListener)(window,C,v),n&&(0,q.removeEventListener)(window,U,m))},S=!1,x=(function t(){var e=0<arguments.length&&arguments[0]!==undefined&&arguments[0],n=p.setPrompt(e);return S||(L(1),S=!0),function(){return S&&(S=!1,L(-1)),n()}},function t(e){var n=p.appendListener(e);return L(1),function(){L(-1),n()}},{length:u.length,action:"POP",location:O,createHref:E,push:function t(e,n){(0,T.default)(!("object"===(void 0===e?"undefined":j(e))&&e.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,D.createLocation)(e,n,h(),x.location);p.confirmTransitionTo(a,"PUSH",f,function(t){if(t){var e=E(a),n=a.key,o=a.state;if(s)if(u.pushState({key:n,state:o},null,e),c)window.location.href=e;else{var r=k.indexOf(x.location.key),i=k.slice(0,-1===r?0:r+1);i.push(a.key),k=i,y({action:"PUSH",location:a})}else(0,T.default)(o===undefined,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=e}})},replace:function t(e,n){(0,T.default)(!("object"===(void 0===e?"undefined":j(e))&&e.state!==undefined&&n!==undefined),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i="REPLACE",a=(0,D.createLocation)(e,n,h(),x.location);p.confirmTransitionTo(a,i,f,function(t){if(t){var e=E(a),n=a.key,o=a.state;if(s)if(u.replaceState({key:n,state:o},null,e),c)window.location.replace(e);else{var r=k.indexOf(x.location.key);-1!==r&&(k[r]=a.key),y({action:i,location:a})}else(0,T.default)(o===undefined,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(e)}})},go:P,goBack:function t(){return P(-1)},goForward:function t(){return P(1)},block:function t(){var e=0<arguments.length&&arguments[0]!==undefined&&arguments[0],n=p.setPrompt(e);return S||(L(1),S=!0),function(){return S&&(S=!1,L(-1)),n()}},listen:function t(e){var n=p.appendListener(e);return L(1),function(){L(-1),n()}}});return x}})),k=(w=O(),(b=function t(e){e.query=e.search.slice(1).split("&").reduce(function(t,e){return t[e.split("=")[0]]=e.split("=")[1],t},{})})(w.location),w.init=function(n){w.listen(function(t,e){b(t),n(t)})},w),E=function t(e){var n=e.error;return console.error(n),r.createElement("h1",null,n.code,n.message)},P=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_=function(){function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}}(),L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},S=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},x=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},j=function t(o,e){return function(t){function n(t){P(this,n);var e=x(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={},e}return S(n,t),_(n,[{key:"shouldComponentUpdate",value:function t(e,n){return console.log("prototype"),!!(e!==this.props&&n!==this.state)}},{key:"render",value:function t(){var e=L({},this.props,o.props,{location:k.location,query:k.location.query});return o.isReactComponent?r.createElement(o,e):r.cloneElement(o,e)}}]),n}(r.Component)},A=function(t){function i(){var t;P(this,i);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=x(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(n)));return console.log(n),r.code=n[1],Error.captureStackTrace(r,i),r}return S(i,t),i}(Error),T=function(){function t(){P(this,t),this._prev=null,this._next={},this._param=null,this._value=null}return _(t,[{key:"next",set:function t(e){this._next=e},get:function t(){return this._next}},{key:"param",set:function t(e){this._param=e},get:function t(){return this._param}},{key:"prev",set:function t(e){this._prev=e},get:function t(){return this._prev}},{key:"value",set:function t(e){this._value=e},get:function t(){return this._value}}]),t}(),M=new(function(){function t(){P(this,t),this.root=new T}return _(t,[{key:"add",value:function t(e){for(var n=e.path.split(""),o=this.root;n.length;){var r=n.shift();if(":"===r){for(var i="";"/"!==n[0]&&n.length;)i+=n.shift();if(o.next[r]=new T(r),(o=(o.prev=o).next[r]).param=i,!(r=n.shift()))break}o.next[r]||(o.next[r]=new T(r),o.prev=o),o=o.next[r]}o.value=e.val}},{key:"find",value:function t(e){for(var n=e.split(""),o={},r=this.root;n.length&&r;)if(r.next[":"]){for(var i="";"/"!==n[0]&&n.length;)i+=n.shift();o[r.next[":"].param]=i,r=r.next[":"]}else if(r.next["*"])for(r=r.next["*"];"/"!==n[0];)n.shift();else r=r.next[n.shift()];if(!r||!r.value)throw new A("Route not found!");return L({},r,{params:o})}}]),t}()),H=(function t(e){for(var n=arguments.length,a=Array(1<n?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];var r=function(t){function i(){var t;P(this,i);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=x(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(n)));return a.forEach(function(t){u(r,new t)}),r}return S(i,e),i}(),u=function t(e,n){Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n)).forEach(function(t){t.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)||Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})};return a.forEach(function(t){u(r.prototype,t.prototype),u(r,t)}),r},function(t){function n(t){P(this,n);var e=x(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t.config));return e.state={component:null,location:k.location,loaded:!1,middleware:function t(){return Promise.resolve()}},e.middleware=e.middleware.bind(e),e.init=e.init.bind(e),e}return S(n,t),_(n,[{key:"getRoute",value:function t(){var n=this;return new Promise(function(t,e){t(n.route(k.location.pathname))})}},{key:"shouldComponentUpdate",value:function t(e,n){var o=n!==this.state;return console.log(n.location.pathname,this.state.location.pathname),!!o&&(console.log("should update?",o),!0)}},{key:"middleware",value:function t(){var n=this;return console.log("middleware: ",this.state.middleware),this.state.middleware(k,k.location,function(){}).then(function(){n.setState({loaded:!0})}).catch(function(t){var e=j(r.createElement(E,{error:t}));n.setState({component:e,loaded:!0})})}},{key:"init",value:function t(){var n=this;return this.getRoute().then(function(t){console.log("theroute",t),t instanceof Error?(console.log("instanceOf"),n.setState({component:j(r.createElement(E,{error:t})),middleware:function t(){return Promise.resolve()}})):n.setState({component:j(t.component),middleware:t.middleware}),k.init(function(e){console.log("will change?"),n.getRoute().then(function(t){n.middleware().then(function(){t instanceof Error?n.setState({location:e,component:j(r.createElement(E,{error:t})),middleware:function t(){return Promise.resolve()}}):n.setState({location:e,component:j(t.component),middleware:t.middleware})})})})})}},{key:"componentDidMount",value:function t(){console.log("running more than once?"),this.init().then(this.middleware)}},{key:"render",value:function t(){var e={location:k.location};return this.state.loaded?r.createElement(this.state.component,e):null}}]),n}(function t(e){for(var n=arguments.length,a=Array(1<n?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];var r=function(t){function i(){var t;P(this,i);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=x(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(n)));return a.forEach(function(t){u(r,new t)}),r}return S(i,e),i}(),u=function t(e,n){Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n)).forEach(function(t){t.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)||Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})};return a.forEach(function(t){u(r.prototype,t.prototype),u(r,t)}),r}(function(){function o(t,e){for(var n in P(this,o),this.routes=t,this.node=e,t)M.add({path:n,val:t[n]})}return _(o,[{key:"match",value:function t(e){return M.find(e)}},{key:"route",value:function t(e){try{var n=this.match(e);return console.log("the result",n),L({},n._value,{params:n.params},{match:!!n})}catch(t){return console.log("yeah?",t),new(function(t){function i(){var t;P(this,i);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=x(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(n)));return r.params={message:r.message,code:r.code},r.middleware=function(){return Promise.resolve()},r}return S(i,A),i}())(t.message,t.code)}}}]),o}(),e.Component))),C=function(t){function e(){return P(this,e),x(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,H),e}();!function(){function t(){P(this,t)}_(t,[{key:"go",value:function t(){}}])}();t.ReactRouter=C,t.ErrorComp=E,Object.defineProperty(t,"__esModule",{value:!0})});
